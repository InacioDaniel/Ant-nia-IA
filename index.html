<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ant√≠nia IA - by @inacio.u.daniel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Inter', sans-serif; }
        .chat-container { height: calc(100vh - 160px); overflow-y: auto; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .user-msg { background: #3b82f6; align-self: flex-end; }
        .ai-msg { background: #1e293b; align-self: flex-start; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto flex flex-col h-full">
        <header class="mb-6 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-blue-400">Ant√≠nia IA</h1>
                <p class="text-xs text-gray-400">Processamento Local & exige capacidade local</p>
            </div>
            <div id="status" class="text-xs bg-yellow-900/30 text-yellow-500 px-3 py-1 rounded-full border border-yellow-700">
                Aguardando comando...
            </div>
        </header>

        <div id="chatBox" class="chat-container glass rounded-2xl p-4 flex flex-col gap-4 mb-4">
            <div class="ai-msg p-3 rounded-xl max-w-[80%]">
                Ol√°! Eu sou a **Ant√≠nia**. Posso analisar imagens, tentar gerar v√≠deos curtos e conversar. Como n√£o uso chaves de API, utilizo recursos do seu navegador!
            </div>
        </div>

        <div id="imagePreview" class="hidden mb-2 p-2 glass rounded-lg w-32 relative">
            <img src="" id="previewImg" class="rounded">
            <button onclick="clearImage()" class="absolute -top-2 -right-2 bg-red-500 rounded-full w-5 h-5 text-xs">‚úï</button>
        </div>

        <div class="glass p-4 rounded-2xl flex flex-col gap-2">
            <div class="flex items-center gap-2">
                <input type="file" id="fileInput" accept="image/*" class="hidden" onchange="handleImage(this)">
                <button onclick="document.getElementById('fileInput').click()" class="p-2 hover:bg-white/10 rounded-lg transition" title="Analisar Imagem">
                    üñºÔ∏è
                </button>
                <input type="text" id="userInput" placeholder="Pergunte algo ou pe√ßa um v√≠deo (ex: 'Gere um v√≠deo de gato')..." 
                       class="flex-1 bg-transparent border-none outline-none text-white p-2">
                <button onclick="sendMessage()" class="bg-blue-600 hover:bg-blue-500 px-6 py-2 rounded-xl font-bold transition">
                    Enviar
                </button>
            </div>
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chatBox');
        const userInput = document.getElementById('userInput');
        const status = document.getElementById('status');
        let selectedImage = null;

        // Fun√ß√£o para adicionar mensagens ao chat
        function addMessage(content, isUser = false) {
            const div = document.createElement('div');
            div.className = `${isUser ? 'user-msg' : 'ai-msg'} p-3 rounded-xl max-w-[80%] animate-fade-in`;
            div.innerHTML = content;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Simula√ß√£o de processamento de Imagem (Usando MobileNet/TensorFlow Open Source)
        function handleImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('imagePreview').classList.remove('hidden');
                    document.getElementById('previewImg').src = e.target.result;
                    selectedImage = e.target.result;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function clearImage() {
            selectedImage = null;
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('fileInput').value = '';
        }

        // L√≥gica Principal de Resposta
        async function sendMessage() {
            const text = userInput.value.trim();
            if (!text && !selectedImage) return;

            addMessage(text || "Analisando esta imagem...", true);
            userInput.value = '';
            status.innerText = "Ant√≠nia est√° pensando...";

            setTimeout(() => {
                if (text.toLowerCase().includes("video") || text.toLowerCase().includes("gerar")) {
                    generateVideoSim(text);
                } else if (selectedImage) {
                    analyzeImageSim();
                } else {
                    respondText(text);
                }
            }, 1000);
        }

        // Mock de Resposta de Texto (Simulando conhecimento at√© 2025)
        function respondText(query) {
            const responses = {
                "oi": "Ol√°! Como posso ajudar voc√™ hoje?",
                "quem √© voc√™": "Eu sou a Ant√≠nia IA, um modelo treinado com dados at√© o in√≠cio de 2025 focado em privacidade e execu√ß√£o local.",
                "ajuda": "Eu posso descrever imagens, conversar e sugerir prompts para v√≠deos."
            };
            
            let reply = responses[query.toLowerCase()] || "Interessante! Como um modelo atualizado at√© 2025, entendo que voc√™ est√° perguntando sobre " + query + ". Posso aprofundar se desejar.";
            addMessage(reply);
            status.innerText = "Pronta";
        }

        // Simula√ß√£o de An√°lise de Imagem (Frontend Puro)
        function analyzeImageSim() {
            addMessage("üîç **An√°lise da Ant√≠nia:** Identifiquei elementos visuais nesta imagem que sugerem um contexto moderno. (Para an√°lise real via navegador, utilize bibliotecas como TensorFlow.js que est√£o pr√©-carregadas).");
            clearImage();
            status.innerText = "Pronta";
        }

        // Simula√ß√£o de Gera√ß√£o de V√≠deo (Usando placeholders de modelos abertos como Hugging Face)
        function generateVideoSim(prompt) {
            addMessage("üé¨ **Gerando v√≠deo...** Isso pode levar alguns segundos usando recursos p√∫blicos.");
            
            // Simula√ß√£o de um retorno de modelo de v√≠deo (ex: ModelScope/ZeroScope)
            setTimeout(() => {
                const videoUrl = "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHJpbmZqamZpZzRreXp4eHh4eHh4eHh4eHh4eHh4eHh4eHh4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/3o7TKMGpxxcaKqzZ8A/giphy.gif"; // Placeholder de exemplo
                addMessage(`Aqui est√° uma representa√ß√£o do seu v√≠deo sobre "${prompt}":<br><img src="${videoUrl}" class="mt-2 rounded-lg w-full">`);
                status.innerText = "Pronta";
            }, 3000);
        }

        // Enviar com Enter
        userInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') sendMessage(); });
    </script>
</body>
</html>

